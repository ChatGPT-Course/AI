<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>API Test</title>
    <style>
        body {
            padding: 20px;
            font-family: Arial;
            background: #f0f2f5;
        }
        #log {
            background: #1e1e1e;
            color: #00ff00;
            padding: 15px;
            margin-top: 15px;
            border-radius: 8px;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }
        button {
            background: #0088cc;
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
        }
    </style>
</head>
<body>
    <button onclick="testApiRequest()">Тест API запроса</button>
    <div id="log">Нажмите кнопку для отправки запроса...</div>

    <script>
        async function testApiRequest() {
            const log = document.getElementById('log');
            log.textContent = "Отправляю запрос...";
            
            try {
                // Ваш тестовый URL
                const url = 'https://api.puzzlebot.top/?token=i5vkuteSbTI65FSFoLahqgpEmpkQUbZJ&method=getUserInChatStatus&user_id=1515638372&chat_id=7533493609&page=1';
                
                log.textContent += "\n\nURL: " + url;
                
                // Отправка запроса
                const response = await fetch(url);
                
                log.textContent += "\n\nСтатус ответа: " + response.status;
                
                // Парсим ответ
                const data = await response.json();
                
                log.textContent += "\n\nОтвет API:\n" + JSON.stringify(data, null, 2);
                
            } catch (error) {
                log.textContent += "\n\nОшибка: " + error.message;
                log.textContent += "\n\nПроверьте:\n1. Интернет соединение\n2. Правильность URL\n3. CORS политики";
            }
        }

        // Автоматически расширяем Mini App
        if (window.Telegram?.WebApp) {
            Telegram.WebApp.expand();
        }
    </script>
</body>
</html>
